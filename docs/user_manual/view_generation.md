## 功能概述
点击菜单栏中"视图"，进入视图设计模块，可通过简单的拖拉拽生成各种图表，并设置图表的颜色、大小、标签、图例、标题等属性。</br>为了满足不同用户对视图的需求，系统不仅支持了 echarts 图库，而且拓展了 antv 图库，不同图库支持的图表类型如下：

=== "echarts"
    !!! info ""
        - 表格（明细表格、汇总表格）
        - 指标卡
        - 柱状图（基础柱状图、堆叠柱状图、横向柱状图、横向堆叠柱状图）
        - 折线图（基础折线图、堆叠折线图）
        - 组合图（柱状折线图等）
        - 散点图
        - 气泡图
        - 色彩地图
        - 雷达图
        - 仪表盘
        - 饼图（基础饼图、环形饼图）
        - 南丁格尔玫瑰
        - 漏斗图
        - 矩形树图

=== "antv"
    !!! info ""
        - 表格（明细表格、汇总表格）
        - 指标卡
        - 柱状图（基础柱状图、堆叠柱状图、横向柱状图、横向堆叠柱状图）
        - 折线图（基础折线图、堆叠折线图）
        - 散点图
        - 气泡图
        - 雷达图
        - 仪表盘
        - 饼图（基础饼图、环形饼图）
        - 南丁格尔玫瑰
        - 漏斗图
        - 矩形树图
        - 瀑布图
        - 水波图
        - 词云图

## 1 视图添加
如下图所示，点击【添加视图】；

![添加视图](../img/view_generation/添加视图入口.png)
从左侧的目录中选择数据集，修改视图名称，最后点击【确认】提交，视图添加成功。

![添加视图](../img/view_generation/添加视图-选择数据集.png)
## 2 视图设计
### 2.1 界面功能区
通过点击左侧的视图，设计该视图，视图设计的11大功能区介绍：</br>
序号1：数据、样式切换</br>序号2：搜索</br>序号3：字段编辑</br>序号4：更换数据集</br>序号5：可选维度列表</br>序号6：可选指标列表</br>序号7：图表类型</br>序号8：选择维度指标</br>序号9：选择指标</br>序号10：结果过滤器</br>序号11：图表展示

![视图设计](../img/view_generation/视图设计.png)
### 2.2 数据、样式切换
点击样式，切换至样式设计界面，可设置样式优先级（通过设置样式优先级，如果优先级设置为【视图】，那么仪表板展示视图样式），亦可设置视图的颜色、大小、标签、标题、横轴、纵轴等属性。

![视图可选维度列表](../img/view_generation/数据样式切换.png)
### 2.3 搜索
使用方式，请查阅通用功能 [「搜索」](../general/#_6)

### 2.4 字段编辑
点击，可编辑对应数据集的字段，如修改字段类型、名称、切换为维度或指标等

![编辑字段](../img/view_generation/编辑字段.png)
### 2.5 更换数据集
点击可为视图更换数据集。

![更换数据集](../img/view_generation/更换数据集.png)
### 2.6 可选维度列表
展示所有维度，当选择数据集后，维度与指标由系统自动分配，分配原则：文本型字段默认为维度、数值型字段默认为指标，因此如果需要某个字段作为指标，在数据集中编辑字段，将其设置为维度。

![可选维度列表](../img/view_generation/可选维度列表.png)
### 2.7 可选指标列表
展示所有指标，当选择数据集后，维度与指标由系统自动分配，分配原则：文本型字段默认为维度、数值型字段默认为指标，因此如果需要某个字段作为指标，在数据集中编辑字段，将其设置为指标。

![可选指标列表](../img/view_generation/可选指标列表.png)
### 2.8 图表类型
展示所有图表类型，如柱形图，折线图，组合图、雷达图等，可通过点击图标进行图表类型的切换。

![图表类型](../img/view_generation/图表类型.png)
### 2.9 维度选择
#### 2.9.1 维度选择
如下图所示，通过拖拉的形式，从"维度可选列表中"拖拉至"维度选择"，图表根据所选择的维度去统计分析数据。

![选择维度](../img/view_generation/选择维度.png)

#### 2.9.2 维度设置
如下图所示，点击维度上的小箭头，弹出设置窗口，可设置维度排序（升序、降序）、过滤条件、显示名等。

![维度属性设置](../img/view_generation/维度属性设置.png)
### 2.10 指标选择
#### 2.10.1 指标选择 
如下图所示，通过拖拉的形式，从"指标可选列表中"拖拉至"指标选择"，图表根据所选择的指标去汇总。

![选择指标](../img/view_generation/选择指标.png)

#### 2.10.2 指标设置
如下图所示，点击维度上的小箭头，弹出设置窗口，可设置指标汇总方式（求和，平均，最大值）、快速计算、排序（升序、降序、无），可选择高级计算如同比、环比，可设置过滤等。

![指标设置](../img/view_generation/指标属性设置.png)
### 2.10 结果过滤器
可点击设置过滤条件，对结果进行过滤

![图表样式](../img/view_generation/结果过滤器.png)
如下图所示，设置过滤条件，可设置多个

![图表样式](../img/view_generation/结果过滤器设置.png)

### 2.11 图表展示
图表展示区，展示视图设计的结果

![图表展示](../img/view_generation/图表展示.png)

## 3 视图钻取
### 3.1 设置钻取目录
生成全国的GDP地图后，拖拽钻取字段至【钻取/维度】，<font color=#FF0000>请注意：下钻目录与拖入的字段顺序有关，如下图所示，自上而下依次下钻。</font>

![添加视图](../img/view_generation/地图钻取设置.png)
### 3.2 下钻
第一步，点击【广东省】。

![钻取](../img/view_generation/下钻.png)

第二步，下钻结果展示，如下图，展示广东省地图。如果想返回上一级，点击视图左下角的【全部】，返回全国地图。

![钻取](../img/view_generation/下钻返回.png)


